<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formato de Registro de Incidente de Seguridad</title>
    
    <link rel="stylesheet" href="style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container" id="form-container">
        <h1>ğŸ“‹ Formato Mejorado de Registro de Incidente de Seguridad de la InformaciÃ³n</h1>
        
        <div class="section" id="incident-section">
            <h2>ğŸ” IdentificaciÃ³n del Incidente</h2>
            <div class="form-group">
                <label for="fecha-incidente">Fecha del incidente (DD-MM-AAAA):</label>
                <input type="date" id="fecha-incidente" required>
            </div>
            <div class="form-group">
                <label for="numero-incidente">NÃºmero de incidente:</label>
                <input type="text" id="numero-incidente" placeholder="Se asigna automÃ¡ticamente" readonly>
            </div>
            <div class="form-group new-field">
                <label for="severidad">ğŸš¨ Nivel de Severidad:</label>
                <div class="priority-selector">
                    <div class="priority-option priority-critical-opt" data-priority="critical">
                        <div>CRÃTICO</div>
                        <small>&lt; 1 hora</small>
                    </div>
                    <div class="priority-option priority-high-opt" data-priority="high">
                        <div>ALTO</div>
                        <small>&lt; 4 horas</small>
                    </div>
                    <div class="priority-option priority-medium-opt" data-priority="medium">
                        <div>MEDIO</div>
                        <small>&lt; 24 horas</small>
                    </div>
                    <div class="priority-option priority-low-opt" data-priority="low">
                        <div>BAJO</div>
                        <small>&lt; 72 horas</small>
                    </div>
                </div>
            </div>
            <div class="form-group new-field">
                <label for="estado-incidente">ğŸ“Š Estado Actual:</label>
                <select id="estado-incidente">
                    <option value="nuevo">ğŸ†• Nuevo</option>
                    <option value="asignado">ğŸ‘¤ Asignado</option>
                    <option value="en-progreso">âš¡ En Progreso</option>
                    <option value="contenido">ğŸ›¡ï¸ Contenido</option>
                    <option value="resuelto">âœ… Resuelto</option>
                    <option value="cerrado">ğŸ“ Cerrado</option>
                </select>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ‘¤ InformaciÃ³n del Reportante</h2>
            <div class="form-group">
                <label for="nombre-reportante">Nombre completo:</label>
                <input type="text" id="nombre-reportante" required>
            </div>
            <div class="form-group">
                <label for="email-reportante">Correo electrÃ³nico:</label>
                <input type="email" id="email-reportante" required>
            </div>
            <div class="form-group">
                <label for="telefono-reportante">TelÃ©fono:</label>
                <input type="tel" id="telefono-reportante">
            </div>
            <div class="form-group">
                <label for="dependencia-reportante">Dependencia/OrganizaciÃ³n:</label>
                <input type="text" id="dependencia-reportante" required>
            </div>
        </div>

        <div class="section">
            <h2>ğŸš‘ Primer Respondiente</h2>
            <div class="form-group">
                <label for="nombre-respondiente">Nombre completo:</label>
                <input type="text" id="nombre-respondiente">
            </div>
            <div class="form-group">
                <label for="email-respondiente">Correo electrÃ³nico:</label>
                <input type="email" id="email-respondiente">
            </div>
            <div class="form-group new-field">
                <label for="tiempo-respuesta">â±ï¸ Tiempo de Primera Respuesta:</label>
                <input type="text" id="tiempo-respuesta" placeholder="ej: 15 minutos">
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ“ DescripciÃ³n Detallada del Incidente</h2>
            <div class="form-group full-width">
                <label for="que-ocurrio">Â¿QuÃ© ocurriÃ³?</label>
                <textarea id="que-ocurrio" placeholder="Describa los hechos observados al momento de identificar el incidente" required></textarea>
            </div>
            <div class="form-group full-width">
                <label for="como-ocurrio">Â¿CÃ³mo ocurriÃ³?</label>
                <textarea id="como-ocurrio" placeholder="Describa el vector de ataque o la forma como se presume que se generÃ³ el incidente"></textarea>
            </div>
            <div class="form-group full-width">
                <label for="por-que-ocurrio">Â¿Por quÃ© ocurriÃ³?</label>
                <textarea id="por-que-ocurrio" placeholder="AnÃ¡lisis de causa raÃ­z - explique las razones por las cuales ocurriÃ³ el incidente"></textarea>
            </div>
            <div class="form-group full-width new-field">
                <label for="iocs">ğŸ” Indicadores de Compromiso (IoCs):</label>
                <textarea id="iocs" placeholder="IPs maliciosas, hashes de malware, dominios sospechosos, etc."></textarea>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ’¥ AnÃ¡lisis de Impacto</h2>
            <div class="form-group full-width">
                <label for="elementos-afectados">ğŸ¯ Activos de informaciÃ³n afectados:</label>
                <textarea id="elementos-afectados" placeholder="Describa los sistemas, aplicaciones, datos o servicios afectados"></textarea>
            </div>
            <div class="form-group new-field">
                <label for="usuarios-impactados">ğŸ‘¥ NÃºmero estimado de usuarios impactados:</label>
                <input type="number" id="usuarios-impactados" min="0">
            </div>
            <div class="form-group new-field">
                <label for="valor-monetario">ğŸ’° Impacto monetario estimado (COP):</label>
                <input type="number" id="valor-monetario" min="0" placeholder="0">
            </div>
            <div class="impact-matrix">
                <div class="impact-item">
                    <div>CONFIDENCIALIDAD</div>
                    <select><option>Sin impacto</option><option>Bajo</option><option>Medio</option><option>Alto</option></select>
                </div>
                <div class="impact-item">
                    <div>INTEGRIDAD</div>
                    <select><option>Sin impacto</option><option>Bajo</option><option>Medio</option><option>Alto</option></select>
                </div>
                <div class="impact-item">
                    <div>DISPONIBILIDAD</div>
                    <select><option>Sin impacto</option><option>Bajo</option><option>Medio</option><option>Alto</option></select>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>â° CronologÃ­a del Incidente</h2>
            <div class="form-group">
                <label for="fecha-ocurrencia">ğŸ• Fecha/hora estimada de ocurrencia:</label>
                <input type="datetime-local" id="fecha-ocurrencia">
            </div>
            <div class="form-group">
                <label for="fecha-deteccion">ğŸ” Fecha/hora de detecciÃ³n:</label>
                <input type="datetime-local" id="fecha-deteccion">
            </div>
            <div class="form-group">
                <label for="fecha-reporte">ğŸ“¢ Fecha/hora de reporte:</label>
                <input type="datetime-local" id="fecha-reporte">
            </div>
            <div class="form-group new-field">
                <label for="fecha-contencion">ğŸ›¡ï¸ Fecha/hora de contenciÃ³n:</label>
                <input type="datetime-local" id="fecha-contencion">
            </div>
            <div class="form-group new-field">
                <label>â±ï¸ MÃ©tricas de Tiempo:</label>
                <div class="metrics-grid">
                    <div><strong>MTTD:</strong><input type="text" id="mttd-output" placeholder="Tiempo para detectar" readonly></div>
                    <div><strong>MTTR:</strong><input type="text" id="mttr-output" placeholder="Tiempo para responder" readonly></div>
                    <div><strong>MTTC:</strong><input type="text" id="mttc-output" placeholder="Tiempo para contener" readonly></div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ·ï¸ CategorizaciÃ³n del Incidente</h2>
            <div class="checkbox-group">
                <div class="checkbox-item"><input type="checkbox" id="malware"><label for="malware">ğŸ¦  Software Malicioso</label></div>
                <div class="checkbox-item"><input type="checkbox" id="phishing"><label for="phishing">ğŸ£ Phishing/IngenierÃ­a Social</label></div>
                <div class="checkbox-item"><input type="checkbox" id="dos"><label for="dos">âš¡ DenegaciÃ³n de Servicio</label></div>
                <div class="checkbox-item"><input type="checkbox" id="acceso-no-autorizado"><label for="acceso-no-autorizado">ğŸšª Acceso No Autorizado</label></div>
                <div class="checkbox-item"><input type="checkbox" id="fuga-datos"><label for="fuga-datos">ğŸ’§ Fuga de InformaciÃ³n</label></div>
                <div class="checkbox-item"><input type="checkbox" id="falla-sistema"><label for="falla-sistema">ğŸ’» Falla de Sistema</label></div>
                <div class="checkbox-item new-field"><input type="checkbox" id="ransomware"><label for="ransomware">ğŸ”’ Ransomware</label></div>
                <div class="checkbox-item new-field"><input type="checkbox" id="apt"><label for="apt">ğŸ¯ APT (Amenaza Persistente Avanzada)</label></div>
                <div class="checkbox-item new-field"><input type="checkbox" id="error-humano"><label for="error-humano">ğŸ‘¤ Error Humano</label></div>
            </div>
        </div>

        <div class="section new-field">
            <h2>ğŸ”¬ Evidencia Digital y AnÃ¡lisis Forense</h2>
            <div class="evidence-section">
                <div class="form-group"><label for="evidencia-recolectada">ğŸ“ Evidencia recolectada:</label><textarea id="evidencia-recolectada" placeholder="Logs, imÃ¡genes forenses, etc."></textarea></div>
                <div class="form-group"><label for="herramientas-analisis">ğŸ”§ Herramientas utilizadas:</label><input type="text" id="herramientas-analisis" placeholder="ej: Wireshark, Volatility, FTK"></div>
                <div class="form-group"><label for="cadena-custodia">ğŸ“‹ Responsable de cadena de custodia:</label><input type="text" id="cadena-custodia"></div>
                <div class="form-group"><label for="ubicacion-evidencia">ğŸ“ UbicaciÃ³n de evidencia:</label><input type="text" id="ubicacion-evidencia" placeholder="Servidor, carpeta o sistema"></div>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ› ï¸ Acciones de Respuesta al Incidente</h2>
            <div class="timeline-item"><div class="form-group full-width"><label for="acciones-identificacion">ğŸ” Acciones de IdentificaciÃ³n:</label><textarea id="acciones-identificacion"></textarea></div></div>
            <div class="timeline-item"><div class="form-group full-width"><label for="acciones-contencion">ğŸ›¡ï¸ Acciones de ContenciÃ³n:</label><textarea id="acciones-contencion"></textarea></div></div>
            <div class="timeline-item"><div class="form-group full-width"><label for="acciones-erradicacion">ğŸ—‘ï¸ Acciones de ErradicaciÃ³n:</label><textarea id="acciones-erradicacion"></textarea></div></div>
            <div class="timeline-item"><div class="form-group full-width"><label for="acciones-recuperacion">ğŸ”„ Acciones de RecuperaciÃ³n:</label><textarea id="acciones-recuperacion"></textarea></div></div>
        </div>

        <div class="section">
            <h2>ğŸ“ Lecciones Aprendidas y Mejoras</h2>
            <div class="form-group full-width"><label for="lecciones-aprendidas">ğŸ’¡ Principales lecciones aprendidas:</label><textarea id="lecciones-aprendidas"></textarea></div>
            <div class="form-group full-width new-field"><label for="acciones-mejora">ğŸš€ Plan de mejoras:</label><textarea id="acciones-mejora"></textarea></div>
            <div class="form-group new-field"><label for="actualizacion-controles">ğŸ”§ Controles que requieren actualizaciÃ³n:</label><textarea id="actualizacion-controles"></textarea></div>
            <div class="form-group new-field"><label for="fecha-revision">ğŸ“… Fecha de revisiÃ³n post-incidente:</label><input type="date" id="fecha-revision"></div>
        </div>

        <div class="section">
            <h2>ğŸ“¢ Notificaciones y Comunicaciones</h2>
            <div class="form-group new-field">
                <label>ğŸš¨ Notificaciones Regulatorias Requeridas:</label>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="notif-sic"><label for="notif-sic">SIC</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="notif-policia"><label for="notif-policia">PolicÃ­a Nacional - CAI Virtual</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="notif-csirt"><label for="notif-csirt">CSIRT Gobierno</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="notif-other"><label for="notif-other">Otros organismos</label></div>
                </div>
            </div>
            <div class="form-group full-width"><label for="comunicacion-externa">ğŸ“ Comunicaciones externas:</label><textarea id="comunicacion-externa" placeholder="Autoridades, clientes, medios, etc."></textarea></div>
        </div>

        <div class="signature-section">
            <div class="signature-box"><h3>âœï¸ ElaborÃ³</h3><div class="signature-line"></div><p><strong>Nombre:</strong> ________</p><p><strong>Fecha:</strong> ________</p></div>
            <div class="signature-box"><h3>ğŸ‘ï¸ RevisÃ³</h3><div class="signature-line"></div><p><strong>Nombre:</strong> ________</p><p><strong>Fecha:</strong> ________</p></div>
            <div class="signature-box"><h3>âœ… AprobÃ³</h3><div class="signature-line"></div><p><strong>Nombre:</strong> ________</p><p><strong>Fecha:</strong> ________</p></div>
        </div>

        <div class="button-container">
            <button id="generate-pdf-btn">ğŸ“„ Generar PDF del Reporte</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>